(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){},16:function(e,t,a){},17:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),l=a(8),o=a.n(l),r=(a(15),a(2)),c=a(3),s=a(5),u=a(4),m=a(6),g=(a(16),a(1)),h=(a(17),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={image:"",imagePreviewUrl:null,blog:""},a._handleImageChange=a._handleImageChange.bind(Object(g.a)(Object(g.a)(a))),a._handleSubmit=a._handleSubmit.bind(Object(g.a)(Object(g.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"_handleImageChange",value:function(e){var t=this;e.preventDefault();var a=e.target.files[0],n=new FileReader;n.onloadend=function(){return t.setState({imagePreviewUrl:n.result})},n.readAsDataURL(a),this.setState({image:a}),console.log("image",this.state.image)}},{key:"handleBlogChange",value:function(e){e.preventDefault(),this.setState({blog:e.target.value})}},{key:"_handleSubmit",value:function(e){var t=this;e.preventDefault(),console.log("handle uploading-",this.state.image);var a=new FormData;a.append("image",this.state.image),a.append("blog",this.state.blog),fetch("/api/images/",{method:"POST",body:a}).then(function(e){return e.json()}).then(function(e){t.setState({imagePreviewUrl:e}),console.log("working",e),console.log("post worked")})}},{key:"render",value:function(){var e=this,t=this.state.imagePreviewUrl,a=null;return a=t?i.a.createElement("img",{src:t,alt:"imagePreview"}):i.a.createElement("div",{className:"previewText"},"Please select an Image for Preview"),i.a.createElement("form",{onSubmit:this._handleSubmit,id:"uploadForm"},i.a.createElement("div",null,i.a.createElement("input",{className:"fileInput",type:"file",onChange:function(t){return e._handleImageChange(t)}}),i.a.createElement("br",null)),i.a.createElement("div",{id:"textAndButton"},i.a.createElement("input",{id:"blogText",name:"blog",type:"text",onChange:function(t){return e.handleBlogChange(t)},placeholder:"Trip details"}),i.a.createElement("br",null),i.a.createElement("button",{className:"submitButton",type:"submit"},"Upload Image")),i.a.createElement("div",{className:"imgPreview"},a),i.a.createElement("div",null,i.a.createElement("p",null,this.state.blog)))}}]),t}(n.Component)),d=function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement(h,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(d,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,a){e.exports=a(18)}},[[9,1,2]]]);
//# sourceMappingURL=main.346cd2ef.chunk.js.map